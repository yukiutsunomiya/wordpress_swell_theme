!function(){var e,t={644:function(e,t,l){"use strict";var a=window.wp.i18n,n=window.wp.blocks,c=window.wp.element,r=window.wp.blockEditor,s=function(e){let{icon:t,size:l=24,...a}=e;return(0,c.cloneElement)(t,{width:l,height:l,...a})},i=window.wp.components,o=React.createElement("svg",{viewBox:"0 0 56 56"},React.createElement("path",{d:"M40.6,26l-8.7-1.3L28,16.9l-3.9,7.9L15.4,26l6.3,6.1l-1.5,8.7l7.8-4.1l7.8,4.1l-1.5-8.7C34.3,32.2,40.6,26,40.6,26z"}),React.createElement("path",{d:"M55,16.9l-3.9,7.9L42.4,26l6.3,6.1l-1.5,8.7l7.8-4.1V16.9z"}),React.createElement("path",{d:"M1,36.8l7.8,4.1l-1.5-8.7l6.3-6.1l-8.7-1.3L1,16.9V36.8z"})),m=window.wp.primitives,_=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),u=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"})),d=l(184),v=l.n(d);const w=({title:e,itemName:t,itemData:l=[],setAttributes:n})=>React.createElement(i.BaseControl,null,React.createElement(i.BaseControl.VisualLabel,null,e),React.createElement("div",{className:"__inner"},l.map(((c,r)=>React.createElement(i.Flex,{className:"__list",key:t+"_"+r,align:"center"},React.createElement(i.FlexBlock,null,React.createElement("span",{className:"__number"},r+1),React.createElement(i.TextControl,{value:c||"",placeholder:(0,a.sprintf)((0,a.__)("%sを入力してください","swell"),e),onChange:e=>{const a=[...l];a[r]=e,n({[t]:a})}})),React.createElement(i.FlexItem,null,React.createElement(i.Button,{icon:_,className:"__deleteBtn",isDestructive:!0,onClick:()=>{const e=l.filter(((e,t)=>t!==r));n({[t]:e})}}))))),React.createElement(i.Button,{text:(0,a.sprintf)((0,a.__)("%sを追加","swell"),e),icon:u,isPrimary:!0,className:"__addBtn",onClick:()=>{const e=[...l];e.push(""),n({[t]:e})}})));function R({attributes:e,setAttributes:t}){const{useType:l,name:n,image:c={},author:s,usePostAuthor:o=!1,rating:m,merits:_=[],demerits:u=[],data:d={}}=e,R="box"!==l;return React.createElement(React.Fragment,null,React.createElement("div",{className:"__settings"},React.createElement("div",{className:"__row"},React.createElement(i.RadioControl,{label:(0,a.__)("用途","swell"),selected:l,options:[{label:(0,a.__)("レビューボックスと構造化データを両方出力","swell"),value:"both"},{label:(0,a.__)("レビューボックスのみ出力","swell"),value:"box"},{label:(0,a.__)("構造化データのみ出力","swell"),value:"json"}],onChange:e=>{t({useType:e})}})),!R&&React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{label:(0,a.__)("商品名","swell"),placeholder:(0,a.sprintf)((0,a.__)("%sを入力してください","swell"),(0,a.__)("商品名","swell")),value:n||"",onChange:e=>{t({name:e})}})),R&&React.createElement(React.Fragment,null,React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{className:v()("-required",{"-error":!n}),label:(0,a.__)("商品名","swell"),placeholder:(0,a.sprintf)((0,a.__)("%sを入力してください","swell"),(0,a.__)("商品名","swell")),value:n||"",onChange:e=>{t({name:e})}})),React.createElement("div",{className:"__row"},React.createElement(i.TextControl,{className:v()("-required",{"-error":!s}),label:(0,a.__)("レビューをする人","swell"),placeholder:(0,a.sprintf)((0,a.__)("%sを入力してください","swell"),(0,a.__)("レビューをする人の名前","swell")),value:s||"",onChange:e=>{t({author:e})}}),React.createElement(i.CheckboxControl,{label:(0,a.__)("記事ページでは著者データを使用する","swell"),checked:o||!1,onChange:e=>t({usePostAuthor:e})}))),React.createElement("div",{className:"__row"},React.createElement(i.RangeControl,{label:(0,a.__)("評価","swell"),value:m||0,onChange:e=>{t({rating:e})},min:0,max:5,step:.5,help:(0,a.__)("0にすると出力されません。","swell")})),React.createElement("div",{className:"__row"},React.createElement("div",{className:"components-base-control__label"},(0,a.__)("画像URL","swell")),React.createElement(i.Flex,null,React.createElement(i.FlexItem,{className:"__imgPreview"},(null==c?void 0:c.url)&&React.createElement("img",{src:c.url,alt:"",width:null==c?void 0:c.width,height:null==c?void 0:c.height})),React.createElement(i.FlexBlock,{className:"__imgSetting"},React.createElement(i.TextControl,{value:(null==c?void 0:c.url)||"",onChange:e=>{t({image:{url:e}})}}),React.createElement("div",{className:"swl-btns--media"},React.createElement(r.MediaUploadCheck,null,React.createElement(r.MediaUpload,{onSelect:e=>{e&&e.url?t({image:{id:e.id,url:e.url,width:(null==e?void 0:e.width)||void 0,height:(null==e?void 0:e.height)||void 0}}):t({image:void 0})},allowedTypes:"image",value:(null==c?void 0:c.id)||"",render:({open:e})=>React.createElement(i.Button,{text:(0,a.__)("メディアから選択","swell"),isPrimary:!0,onClick:e})})),React.createElement(i.Button,{text:(0,a.__)("削除","swell"),isSecondary:!0,className:"swl-btn--delete",onClick:()=>{t({image:void 0})}})))),(null==c?void 0:c.id)&&React.createElement("p",{className:"description"},(0,a.__)("URLを直接編集すると、画像の付加情報は削除されます。","swell"),React.createElement("small",null,`( id: ${c.id}, width: ${null==c?void 0:c.width}, height: ${null==c?void 0:c.height} )`))),React.createElement("div",{className:"__row"},React.createElement(w,{title:(0,a.__)("メリット","swell"),itemName:"merits",itemData:_,setAttributes:t})),React.createElement("div",{className:"__row"},React.createElement(w,{title:(0,a.__)("デメリット","swell"),itemName:"demerits",itemData:u,setAttributes:t}))),R&&React.createElement("p",{className:"description"},(0,a.__)("その他の付加情報については、ブロックサイドバーから設定できます。","swell")),R&&React.createElement(r.InspectorControls,null,React.createElement(i.PanelBody,{title:(0,a.__)("製品情報","swell")},React.createElement(i.TextareaControl,{label:(0,a.__)("商品の説明","swell"),value:(null==e?void 0:e.description)||"",onChange:e=>{t({description:e})}}),React.createElement(i.TextControl,{label:(0,a.__)("ブランド名","swell"),value:(null==d?void 0:d.brandName)||"",onChange:e=>{var l;l={brandName:e},t({data:{...d,...l}})}}),React.createElement(i.TextControl,{type:"number",label:(0,a.__)("価格","swell"),value:(null==e?void 0:e.price)||0,onChange:e=>{t({price:parseFloat(e)})}}),React.createElement(i.TextControl,{label:(0,a.__)("通貨の種類","swell"),value:(null==e?void 0:e.priceCurrency)||"JPY",onChange:e=>{t({priceCurrency:e})},help:(0,a.__)("例) JPY, USD, EUR…","swell")}))))}const E=({data:e,isList:t=!1})=>t?React.createElement(React.Fragment,null,e.map(((e,t)=>React.createElement("li",{key:t},e)))):React.createElement(React.Fragment,null,e.map(((e,t)=>React.createElement("div",{key:t},e))));function p({attributes:e,blockIcon:t}){const{name:l,rating:n,merits:c=[],demerits:r=[]}=e;return React.createElement("div",{className:"__jsonPreview"},React.createElement("div",{className:"__title"},t,(0,a.__)("商品レビュー","swell")," ( ",(0,a.__)("構造化データ","swell")," )"),React.createElement("dl",{className:"__settings -preview"},React.createElement("div",{className:"__div"},React.createElement("dt",null,(0,a.__)("商品名","swell")),React.createElement("dd",null,l||"")),React.createElement("div",{className:"__div"},React.createElement("dt",null,(0,a.__)("評価","swell")),React.createElement("dd",null,n||1)),React.createElement("div",{className:"__div"},React.createElement("dt",null,(0,a.__)("メリット","swell")),React.createElement("dd",null,React.createElement(E,{data:c}))),React.createElement("div",{className:"__div"},React.createElement("dt",null,(0,a.__)("デメリット","swell")),React.createElement("dd",null,React.createElement(E,{data:r}))),React.createElement("div",{className:"__div"},React.createElement("dt",null,"etc..."),React.createElement("dd",null))))}const h=({data:e})=>React.createElement(React.Fragment,null,e.map(((e,t)=>React.createElement("li",{key:t},e))));function g({attributes:e}){const{name:t,image:l={},rating:n,merits:r=[],demerits:s=[]}=e;return React.createElement("div",{className:"swell-block-review__inner"},t&&React.createElement("div",{className:"swell-block-review__title"},React.createElement("span",null,t)),(null==l?void 0:l.url)&&React.createElement("figure",{className:"swell-block-review__image"},React.createElement("img",{src:l.url,alt:"",width:null==l?void 0:l.width,height:null==l?void 0:l.height,className:v()("__img",{[`wp-image-${null==l?void 0:l.id}`]:!(null==l||!l.id)})})),!!n&&React.createElement("div",{className:"swell-block-review__rating"},React.createElement("span",{className:"__label"},(0,a.__)("総合評価","swell")),React.createElement("div",{className:"__value"},React.createElement(c.RawHTML,{className:"__stars c-reviewStars"},(e=>{let t="";for(let l=0;l<5;l++)t+=-.5==(e-=1)?'<i class="icon-star-half"></i>':e<0?'<i class="icon-star-empty"></i>':'<i class="icon-star-full"></i>';return t})(parseFloat(n))),React.createElement("small",{className:"__str"},`( ${n} )`))),r.length>0&&React.createElement("div",{className:"swell-block-review__merits"},React.createElement("div",{className:"__label"},(0,a.__)("メリット","swell")),React.createElement("ul",{className:"__list is-style-good_list"},React.createElement(h,{data:r}))),s.length>0&&React.createElement("div",{className:"swell-block-review__demerits"},React.createElement("div",{className:"__label"},(0,a.__)("デメリット","swell")),React.createElement("ul",{className:"__list is-style-bad_list"},React.createElement(h,{data:s}))))}(0,n.registerBlockType)("loos/review",{title:(0,a.__)("商品レビュー","swell")+"(β)",icon:o,edit:({attributes:e,setAttributes:t,isSelected:l})=>{const[n,m]=(0,c.useState)(!1),{useType:_}=e,u="json"!==_;return React.createElement("div",(0,r.useBlockProps)({className:"swell-block-review"}),!l&&u&&React.createElement(g,{attributes:e}),!l&&!u&&React.createElement(p,{attributes:e,blockIcon:React.createElement(s,{icon:o})}),l&&React.createElement(React.Fragment,null,React.createElement("div",{className:"__title"},React.createElement(s,{icon:o}),(0,a.__)("商品レビュー","swell")+"(β)",u&&React.createElement(i.ToggleControl,{label:(0,a.__)("プレビュー","swell"),checked:n,onChange:e=>m(e)})),n&&React.createElement("div",{className:"__htmlPreview"},React.createElement(g,{attributes:e})),!n&&React.createElement(R,{attributes:e,setAttributes:t})))},save:()=>null})},184:function(e,t){var l;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var c=typeof l;if("string"===c||"number"===c)e.push(l);else if(Array.isArray(l)){if(l.length){var r=n.apply(null,l);r&&e.push(r)}}else if("object"===c){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){e.push(l.toString());continue}for(var s in l)a.call(l,s)&&l[s]&&e.push(s)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(l=function(){return n}.apply(t,[]))||(e.exports=l)}()}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var c=l[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.m=t,e=[],a.O=function(t,l,n,c){if(!l){var r=1/0;for(m=0;m<e.length;m++){l=e[m][0],n=e[m][1],c=e[m][2];for(var s=!0,i=0;i<l.length;i++)(!1&c||r>=c)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(s=!1,c<r&&(r=c));if(s){e.splice(m--,1);var o=n();void 0!==o&&(t=o)}}return t}c=c||0;for(var m=e.length;m>0&&e[m-1][2]>c;m--)e[m]=e[m-1];e[m]=[l,n,c]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={388:0,424:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,c,r=l[0],s=l[1],i=l[2],o=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var m=i(a)}for(t&&t(l);o<r.length;o++)c=r[o],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return a.O(m)},l=self.webpackChunkswell=self.webpackChunkswell||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=a.O(void 0,[424],(function(){return a(644)}));n=a.O(n)}();