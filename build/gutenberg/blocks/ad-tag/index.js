!function(){"use strict";var e,t={292:function(e,t,l){var a=window.wp.i18n,n=window.wp.element,c=window.wp.blocks,r=window.wp.blockEditor,o=window.wp.components,s=window.wp.serverSideRender,i=l.n(s),u=function(e){let{icon:t,size:l=24,...a}=e;return(0,n.cloneElement)(t,{width:l,height:l,...a})},d=window.wp.primitives,p=(0,n.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(d.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),w=window.wp.url,v=[{attributes:{adID:{type:"string",default:""}},save:({attributes:e})=>React.createElement("div",null,'[ad_tag id="'+e.adID+'"]')}],m=React.createElement("svg",{viewBox:"0 0 56 56"},React.createElement("polygon",{points:"48,12 48,15 52,15 52,41 48,41 48,44 55,44 55,12 "}),React.createElement("polygon",{points:"8,44 8,41 4,41 4,15 8,15 8,12 1,12 1,44 "}),React.createElement("g",null,React.createElement("path",{d:"M14,24.6c1-1.3,2.8-1.9,5.1-1.9c1.6,0,3,0.3,4.3,1s1.8,1.8,1.8,3.5v6.6c0,0.4,0,1.1,0,1.7c0,0.5,0.1,0.9,0.2,1 c0.1,0.2,0.3,0.3,0.5,0.4v0.7h-4.2c-0.1-0.3-0.2-0.5-0.2-0.9c0-0.2-0.1-0.5-0.1-0.9c-0.5,0.5-1.2,1.1-1.8,1.5 c-0.9,0.4-1.7,0.7-2.8,0.7c-1.3,0-2.3-0.4-3.2-1.2s-1.3-1.8-1.3-3.2c0-1.8,0.6-3.1,2-3.8c0.7-0.4,1.8-0.7,3.3-1l1.3-0.1 c0.7-0.1,1.2-0.2,1.5-0.3c0.5-0.2,0.9-0.6,0.9-1.1c0-0.6-0.2-1-0.6-1.3c-0.4-0.2-1.1-0.3-1.8-0.3c-0.9,0-1.5,0.2-1.9,0.6 c-0.2,0.3-0.4,0.7-0.5,1.3h-3.6C13,26.5,13.3,25.4,14,24.6z M16.8,34.8c0.3,0.3,0.7,0.4,1.3,0.4c0.9,0,1.6-0.2,2.2-0.7 c0.6-0.4,1.1-1.4,1.1-2.7v-1.4c-0.2,0.1-0.5,0.3-0.7,0.3c-0.2,0.1-0.5,0.2-1,0.2l-0.9,0.1c-0.7,0.1-1.4,0.3-1.7,0.5 c-0.5,0.3-0.9,0.9-0.9,1.6C16.3,34.1,16.4,34.5,16.8,34.8z"}),React.createElement("path",{d:"M42.4,18v19.6h-3.7v-2c-0.5,0.9-1.2,1.5-1.8,1.9c-0.6,0.4-1.6,0.5-2.6,0.5c-1.7,0-3.1-0.6-4.3-2c-1.2-1.4-1.7-3.1-1.7-5.2 c0-2.5,0.5-4.4,1.7-5.9c1.2-1.4,2.7-2.1,4.6-2.1c0.9,0,1.7,0.2,2.3,0.5c0.6,0.4,1.3,1,1.7,1.6V18C38.6,18,42.4,18,42.4,18z M32.1,30.5c0,1.4,0.2,2.5,0.7,3.2c0.5,0.9,1.3,1.2,2.3,1.2s1.9-0.4,2.5-1.2c0.5-0.7,0.9-1.8,0.9-3.1c0-1.8-0.4-3.1-1.4-3.8 c-0.5-0.4-1.2-0.6-1.9-0.6c-1.1,0-1.9,0.4-2.5,1.3C32.4,28.1,32.1,29.2,32.1,30.5z"})));const f=[{value:"",label:(0,a.__)("-- バナー型 --","swell")}],b=[{value:"",label:(0,a.__)("-- アフィリエイト型 --","swell")}],h=[{value:"",label:(0,a.__)("-- Amazon型 --","swell")}],E=[{value:"",label:(0,a.__)("-- ランキング型 --","swell")}],R=window.swellAdTags||[];R.forEach((function({id:e,title:t,type:l}){"normal"===l?f.push({value:e,label:t}):"affiliate"===l?b.push({value:e,label:t}):"amazon"===l?h.push({value:e,label:t}):"ranking"===l&&E.push({value:e,label:t})}));const g=(0,n.memo)((({adID:e,setAttributes:t})=>React.createElement("div",{className:"swl-block-selectArea"},React.createElement(o.SelectControl,{value:e,options:f,onChange:e=>{t({adID:e})}}),React.createElement(o.SelectControl,{value:e,options:b,onChange:e=>{t({adID:e})}}),React.createElement(o.SelectControl,{value:e,options:h,onChange:e=>{t({adID:e})}}),React.createElement(o.SelectControl,{value:e,options:E,onChange:e=>{t({adID:e})}})))),_=({isSelected:e,attributes:t,setAttributes:l})=>{const[c,r]=(0,n.useState)(""),[s,i]=(0,n.useState)(R),u=(0,n.useRef)(),d=(0,n.useRef)(),p=c&&c.length>=2&&s.length>0;return(0,n.useEffect)((()=>{i(R),r("")}),[t,e]),React.createElement("div",{className:"swl-block-searchArea"},React.createElement(o.TextControl,{placeholder:(0,a.__)("タイトルで検索…","swell"),value:c,onChange:e=>{r(e),i(R.filter((({title:t})=>t.toLowerCase().includes(e))))},onKeyDown:e=>{p&&null!=u&&u.current&&"Tab"===e.key&&(e.preventDefault(),u.current.querySelector("button").focus())},ref:d}),p&&React.createElement(o.Popover,{ref:u,className:"swl-pop--search",position:"bottom",focusOnMount:!1,onClose:()=>d.current.focus()},React.createElement("div",{className:"swl-pop--search__content"},React.createElement("ul",{className:"swl-pop--search__results"},s.map((({id:e,title:t})=>React.createElement("li",{key:e},React.createElement(o.Button,{isLink:!0,className:"block-editor-url-input__suggestion",onClick:()=>{i(R),r(""),l({adID:String(e)})}},t))))))))};(0,c.registerBlockType)("loos/ad-tag",{title:(0,a.__)("広告タグ","swell"),description:(0,a.__)("登録済みの広告タグを呼び出すことができます。","swell"),icon:m,edit:({attributes:e,setAttributes:t,isSelected:l})=>{const{adID:n}=e,c=(0,r.useBlockProps)({className:"swell-block-ad-tag swl-block-hasPreview"});return React.createElement("div",c,React.createElement(g,{adID:n,setAttributes:t}),React.createElement(_,{isSelected:l,attributes:e,setAttributes:t}),React.createElement("div",{className:"swl-block-previewLabel"},React.createElement("span",null,"Preview"),n&&React.createElement("a",{href:(0,w.addQueryArgs)("post.php",{post:n,action:"edit"}),className:"__editLink",target:"_blank",rel:"noopener noreferrer"},React.createElement(u,{icon:p}),React.createElement("span",null,(0,a.__)("この広告タグを編集する","swell")))),React.createElement("div",{className:"swl-block-previewArea"},n?React.createElement(i(),{block:"loos/ad-tag",attributes:e}):React.createElement("p",null,(0,a.__)("広告タグを選択してください。","swell"))))},save:()=>null,deprecated:v})}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var c=l[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.m=t,e=[],a.O=function(t,l,n,c){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],c=e[u][2];for(var o=!0,s=0;s<l.length;s++)(!1&c||r>=c)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(o=!1,c<r&&(r=c));if(o){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[l,n,c]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={709:0,451:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,c,r=l[0],o=l[1],s=l[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(s)var u=s(a)}for(t&&t(l);i<r.length;i++)c=r[i],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return a.O(u)},l=self.webpackChunkswell=self.webpackChunkswell||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=a.O(void 0,[451],(function(){return a(292)}));n=a.O(n)}();